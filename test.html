<!DOCTYPE html>
<html lang="ja">

<head>

    <meta charset="utf-8">
    <title>サンプル</title>

    <link rel="stylesheet" type="text/css"
        href="https://cdn.datatables.net/v/dt/jq-3.3.1/dt-1.10.22/r-2.2.6/sl-1.3.1/datatables.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/modaal@0.4.4/dist/css/modaal.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script type="text/javascript"
        src="https://cdn.datatables.net/v/dt/jq-3.3.1/dt-1.10.22/r-2.2.6/sl-1.3.1/datatables.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/modaal@0.4.4/dist/js/modaal.min.js"></script>
    <script src="columnsSettings.js"></script>
    <script src="wpdb.js"></script>
    <script>
        var dt;
        var input = [];

        jQuery(function ($) {
            
            $('.toggleBtn').click(function () {
                $('#page1').toggle();
                $('#page2').toggle();
                $('#page3').hide();
                $('#dataBtn').toggle();
                $('#inputBtn').toggle();
            });

            $('#memoBtn').click(function () {
                $('#page1').hide();
                $('#page2').hide();
                $('#page3').show();
                $('#dataBtn').show();
                $('#inputBtn').hide();
            });

            $('#putBtn').click(function () {
                input = JSON.parse($("#jsonData").val());
                $("#jsonData").val("");
                dt.clear().draw();
                dt.rows.add(input);
                dt.columns.adjust().draw()
            });

            $.extend($.fn.dataTable.defaults, {
                language: {
                    url: "https://cdn.datatables.net/plug-ins/1.10.21/i18n/Japanese.json"
                }
            });

            dt = $('#tbl1').DataTable({
                data: JSON.parse(JSON.stringify(input)),
                lengthChange: false,
                displayLength: 50,
                select: true,
                columns: columnsSettings
            })
        });

    </script>
    <style>
        .dataTables_filter { display: none; }
    </style>
</head>

<body>
    <button type="button" id="dataBtn" class="toggleBtn" style="display: none;">データ表示</button>
    <button type="button" id="inputBtn" class="toggleBtn" >データ入力</button><br>
    <button type="button" id="memoBtn" class="Btn" >メモ</button>

    <div id="page1">
        <table id="tbl1" class="table-bordered cell-border stripe responsive norwap" width="100%">
            <thead>
                <th>装備ID</th>
                <th>装備種別</th>
                <th>装備名</th>
                <th>改修Lv</th>
                <th>目標Lv</th>
                <th>アイコン</th>
                <th>火力</th>
                <th>雷装</th>
                <th>対空</th>
                <th>装甲</th>
                <th>対潜</th>
                <th>回避</th>
                <th>索敵</th>
                <th>命中</th>
                <th>爆装</th>
                <th>射程</th>
                <th>行動範囲</th>
            </thead>
        </table>
    </div>
    <div id="page2" style="display: none;">
        <hr>
        艦隊分析ページの装備用コードを下のテキストフィールドに入力して反映を押す<br>
        <button type="button" id="putBtn">反映</button><br><br>
        <textarea name="data" id="jsonData" cols="100" rows="20"></textarea>
        
    </div>
    <div id="page3" style="display: none;">
        <p>
            ・まだ装備を反映させるだけしか出来ない
            ・改修可能装備の絞り込み
            ・ステータス絞り込み
            ・目標入力
            ・データ保存（ここの実装がちょっと見えない）
        </p>
    </div>
</body>

</html>
